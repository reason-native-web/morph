<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>TestFramework (morph.TestFramework)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">morph</a> &#x00BB; TestFramework</nav><h1>Module <code>TestFramework</code></h1></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> RelyInternal__RelyAPI.TestFramework<span class="keyword">;</span></code></span></summary><div class="spec module" id="module-Mock"><a href="#module-Mock" class="anchor"></a><code><span class="keyword">module</span> Mock: RelyInternal__RelyAPI.Mock.Sig;</code></div><dl><dt class="spec type" id="type-describeUtils"><a href="#type-describeUtils" class="anchor"></a><code><span class="keyword">type</span> describeUtils('ext, 'env)</code><code> = RelyInternal__Describe.describeUtils<span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span></code><code> = </code><code>{</code><table class="record"><tr id="type-describeUtils.describe" class="anchored"><td class="def field"><a href="#type-describeUtils.describe" class="anchor"></a><code>describe: <a href="index.html#type-describeFn">describeFn</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>,</code></td></tr><tr id="type-describeUtils.describeSkip" class="anchored"><td class="def field"><a href="#type-describeUtils.describeSkip" class="anchor"></a><code>describeSkip: <a href="index.html#type-describeFn">describeFn</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>,</code></td></tr><tr id="type-describeUtils.describeOnly" class="anchored"><td class="def field"><a href="#type-describeUtils.describeOnly" class="anchor"></a><code>describeOnly: <a href="index.html#type-describeFn">describeFn</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>,</code></td></tr><tr id="type-describeUtils.test" class="anchored"><td class="def field"><a href="#type-describeUtils.test" class="anchor"></a><code>test: RelyInternal.Test.testFn<span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>,</code></td></tr><tr id="type-describeUtils.testSkip" class="anchored"><td class="def field"><a href="#type-describeUtils.testSkip" class="anchor"></a><code>testSkip: RelyInternal.Test.testFn<span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>,</code></td></tr><tr id="type-describeUtils.testOnly" class="anchored"><td class="def field"><a href="#type-describeUtils.testOnly" class="anchor"></a><code>testOnly: RelyInternal.Test.testFn<span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>,</code></td></tr></table><code>}</code>;</dt><dt class="spec type" id="type-describeFn"><a href="#type-describeFn" class="anchor"></a><code><span class="keyword">and</span> describeFn('ext, 'env)</code><code> = string <span>=&gt;</span> <span>(<a href="index.html#type-describeUtils">describeUtils</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> unit</code>;</dt><dt class="spec type" id="type-extensionResult"><a href="#type-extensionResult" class="anchor"></a><code><span class="keyword">type</span> extensionResult('ext, 'env)</code><code> = RelyInternal__Describe.extensionResult<span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span></code><code> = </code><code>{</code><table class="record"><tr id="type-extensionResult.describe" class="anchored"><td class="def field"><a href="#type-extensionResult.describe" class="anchor"></a><code>describe: <a href="index.html#type-describeFn">describeFn</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>,</code></td></tr><tr id="type-extensionResult.describeSkip" class="anchored"><td class="def field"><a href="#type-extensionResult.describeSkip" class="anchor"></a><code>describeSkip: <a href="index.html#type-describeFn">describeFn</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>,</code></td></tr><tr id="type-extensionResult.describeOnly" class="anchored"><td class="def field"><a href="#type-extensionResult.describeOnly" class="anchor"></a><code>describeOnly: <a href="index.html#type-describeFn">describeFn</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>,</code></td></tr></table><code>}</code>;</dt><dt class="spec type" id="type-matchers"><a href="#type-matchers" class="anchor"></a><code><span class="keyword">type</span> matchers('ext)</code><code> = RelyInternal__Test.matchers(<span class="type-var">'ext</span>)</code><code> = </code><code>{</code><table class="record"><tr id="type-matchers.string" class="anchored"><td class="def field"><a href="#type-matchers.string" class="anchor"></a><code>string: string <span>=&gt;</span> RelyInternal.StringMatchers.stringMatchersWithNot,</code></td></tr><tr id="type-matchers.file" class="anchored"><td class="def field"><a href="#type-matchers.file" class="anchor"></a><code>file: string <span>=&gt;</span> RelyInternal.StringMatchers.stringMatchersWithNot,</code></td></tr><tr id="type-matchers.lines" class="anchored"><td class="def field"><a href="#type-matchers.lines" class="anchor"></a><code>lines: list(string) <span>=&gt;</span> RelyInternal.StringMatchers.stringMatchersWithNot,</code></td></tr><tr id="type-matchers.bool" class="anchored"><td class="def field"><a href="#type-matchers.bool" class="anchor"></a><code>bool: bool <span>=&gt;</span> RelyInternal.BoolMatchers.boolMatchersWithNot,</code></td></tr><tr id="type-matchers.int" class="anchored"><td class="def field"><a href="#type-matchers.int" class="anchor"></a><code>int: int <span>=&gt;</span> RelyInternal.IntMatchers.intMatchersWithNot,</code></td></tr><tr id="type-matchers.float" class="anchored"><td class="def field"><a href="#type-matchers.float" class="anchor"></a><code>float: float <span>=&gt;</span> RelyInternal.FloatMatchers.floatMatchersWithNot,</code></td></tr><tr id="type-matchers.fn" class="anchored"><td class="def field"><a href="#type-matchers.fn" class="anchor"></a><code>fn: a. <span>(unit <span>=&gt;</span> <span class="type-var">'a</span>)</span> <span>=&gt;</span> RelyInternal.FnMatchers.fnMatchersWithNot,</code></td></tr><tr id="type-matchers.list" class="anchored"><td class="def field"><a href="#type-matchers.list" class="anchor"></a><code>list: a. list(<span class="type-var">'a</span>) <span>=&gt;</span> RelyInternal.ListMatchers.matchersWithNot(<span class="type-var">'a</span>),</code></td></tr><tr id="type-matchers.array" class="anchored"><td class="def field"><a href="#type-matchers.array" class="anchor"></a><code>array: a. array(<span class="type-var">'a</span>) <span>=&gt;</span> RelyInternal.ArrayMatchers.matchersWithNot(<span class="type-var">'a</span>),</code></td></tr><tr id="type-matchers.equal" class="anchored"><td class="def field"><a href="#type-matchers.equal" class="anchor"></a><code>equal: a. RelyInternal.EqualsMatcher.equalsMatcher(<span class="type-var">'a</span>),</code></td></tr><tr id="type-matchers.notEqual" class="anchored"><td class="def field"><a href="#type-matchers.notEqual" class="anchor"></a><code>notEqual: a. RelyInternal.EqualsMatcher.equalsMatcher(<span class="type-var">'a</span>),</code></td></tr><tr id="type-matchers.same" class="anchored"><td class="def field"><a href="#type-matchers.same" class="anchor"></a><code>same: a. RelyInternal.SameMatcher.sameMatcher(<span class="type-var">'a</span>),</code></td></tr><tr id="type-matchers.notSame" class="anchored"><td class="def field"><a href="#type-matchers.notSame" class="anchor"></a><code>notSame: a. RelyInternal.SameMatcher.sameMatcher(<span class="type-var">'a</span>),</code></td></tr><tr id="type-matchers.mock" class="anchored"><td class="def field"><a href="#type-matchers.mock" class="anchor"></a><code>mock: fn ret tupledArgs. RelyInternal.Mock.t<span>(<span class="type-var">'fn</span>, <span class="type-var">'ret</span>, <span class="type-var">'tupledArgs</span>)</span> <span>=&gt;</span> RelyInternal.MockMatchers.matchersWithNot<span>(<span class="type-var">'tupledArgs</span>, <span class="type-var">'ret</span>)</span>,</code></td></tr><tr id="type-matchers.option" class="anchored"><td class="def field"><a href="#type-matchers.option" class="anchor"></a><code>option: a. option(<span class="type-var">'a</span>) <span>=&gt;</span> RelyInternal.OptionMatchers.optionMatchersWithNot(<span class="type-var">'a</span>),</code></td></tr><tr id="type-matchers.result" class="anchored"><td class="def field"><a href="#type-matchers.result" class="anchor"></a><code>result: a b. Stdlib.result<span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span>=&gt;</span> RelyInternal.ResultMatchers.resultMatchersWithNot<span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span>,</code></td></tr><tr id="type-matchers.ext" class="anchored"><td class="def field"><a href="#type-matchers.ext" class="anchor"></a><code>ext: <span class="type-var">'ext</span>,</code></td></tr><tr id="type-matchers.assertions" class="anchored"><td class="def field"><a href="#type-matchers.assertions" class="anchor"></a><code>assertions: int <span>=&gt;</span> unit,</code></td></tr><tr id="type-matchers.hasAssertions" class="anchored"><td class="def field"><a href="#type-matchers.hasAssertions" class="anchor"></a><code>hasAssertions: unit <span>=&gt;</span> unit,</code></td></tr></table><code>}</code>;</dt><dt class="spec type" id="type-testUtils"><a href="#type-testUtils" class="anchor"></a><code><span class="keyword">type</span> testUtils('ext, 'env)</code><code> = RelyInternal__Test.testUtils<span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span></code><code> = </code><code>{</code><table class="record"><tr id="type-testUtils.expect" class="anchored"><td class="def field"><a href="#type-testUtils.expect" class="anchor"></a><code>expect: <a href="index.html#type-matchers">matchers</a>(<span class="type-var">'ext</span>),</code></td></tr><tr id="type-testUtils.env" class="anchored"><td class="def field"><a href="#type-testUtils.env" class="anchor"></a><code>env: <span class="type-var">'env</span>,</code></td></tr></table><code>}</code>;</dt><dt class="spec type" id="type-testFn"><a href="#type-testFn" class="anchor"></a><code><span class="keyword">type</span> testFn('ext, 'env)</code><code> = string <span>=&gt;</span> <span>(<a href="index.html#type-testUtils">testUtils</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> unit</code>;</dt></dl><dl><dt class="spec value" id="val-describe"><a href="#val-describe" class="anchor"></a><code><span class="keyword">let</span> describe: RelyInternal__RelyAPI.Describe.describeFn<span>(unit, unit)</span>;</code></dt><dt class="spec value" id="val-describeSkip"><a href="#val-describeSkip" class="anchor"></a><code><span class="keyword">let</span> describeSkip: RelyInternal__RelyAPI.Describe.describeFn<span>(unit, unit)</span>;</code></dt><dt class="spec value" id="val-describeOnly"><a href="#val-describeOnly" class="anchor"></a><code><span class="keyword">let</span> describeOnly: RelyInternal__RelyAPI.Describe.describeFn<span>(unit, unit)</span>;</code></dt><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">let</span> run: RelyInternal__RelyAPI.RunConfig.t <span>=&gt;</span> unit;</code></dt><dt class="spec value" id="val-cli"><a href="#val-cli" class="anchor"></a><code><span class="keyword">let</span> cli: unit <span>=&gt;</span> unit;</code></dt><dt class="spec value" id="val-toLibrary"><a href="#val-toLibrary" class="anchor"></a><code><span class="keyword">let</span> toLibrary: unit <span>=&gt;</span> RelyInternal__RelyAPI.testLibrary;</code></dt><dt class="spec value" id="val-testLifecycle"><a href="#val-testLifecycle" class="anchor"></a><code><span class="keyword">let</span> testLifecycle: RelyInternal.TestLifecycle.defaultLifecycle;</code></dt><dt class="spec value" id="val-beforeAll"><a href="#val-beforeAll" class="anchor"></a><code><span class="keyword">let</span> beforeAll: <span>(unit <span>=&gt;</span> <span class="type-var">'all</span>)</span> <span>=&gt;</span> RelyInternal.TestLifecycle.t<span>(RelyInternal.TestLifecycle.beforeAllNotCalled, RelyInternal.TestLifecycle.afterAllNotCalled, RelyInternal.TestLifecycle.beforeEachNotCalled, RelyInternal.TestLifecycle.afterEachNotCalled, <span class="type-var">'oldAll</span>, <span class="type-var">'each</span>)</span> <span>=&gt;</span> RelyInternal.TestLifecycle.t<span>(RelyInternal.TestLifecycle.beforeAllCalled, RelyInternal.TestLifecycle.afterAllNotCalled, RelyInternal.TestLifecycle.beforeEachNotCalled, RelyInternal.TestLifecycle.afterEachNotCalled, <span class="type-var">'all</span>, <span class="type-var">'all</span>)</span>;</code></dt><dt class="spec value" id="val-afterAll"><a href="#val-afterAll" class="anchor"></a><code><span class="keyword">let</span> afterAll: <span>(<span class="type-var">'all</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> RelyInternal.TestLifecycle.t<span>(<span class="type-var">'beforeAllCalled</span>, RelyInternal.TestLifecycle.afterAllNotCalled, <span class="type-var">'beforeEachCalled</span>, <span class="type-var">'afterEachCalled</span>, <span class="type-var">'all</span>, <span class="type-var">'each</span>)</span> <span>=&gt;</span> RelyInternal.TestLifecycle.t<span>(<span class="type-var">'beforeAllCalled</span>, RelyInternal.TestLifecycle.afterAllCalled, <span class="type-var">'beforeEachCalled</span>, <span class="type-var">'afterEachCalled</span>, <span class="type-var">'all</span>, <span class="type-var">'each</span>)</span>;</code></dt><dt class="spec value" id="val-beforeEach"><a href="#val-beforeEach" class="anchor"></a><code><span class="keyword">let</span> beforeEach: <span>(<span class="type-var">'all</span> <span>=&gt;</span> <span class="type-var">'each</span>)</span> <span>=&gt;</span> RelyInternal.TestLifecycle.t<span>(<span class="type-var">'beforeAllCalled</span>, <span class="type-var">'afterAllCalled</span>, RelyInternal.TestLifecycle.beforeEachNotCalled, RelyInternal.TestLifecycle.afterEachNotCalled, <span class="type-var">'all</span>, <span class="type-var">'oldEach</span>)</span> <span>=&gt;</span> RelyInternal.TestLifecycle.t<span>(<span class="type-var">'beforeAllCalled</span>, <span class="type-var">'afterAllCalled</span>, RelyInternal.TestLifecycle.beforeEachCalled, RelyInternal.TestLifecycle.afterEachNotCalled, <span class="type-var">'all</span>, <span class="type-var">'each</span>)</span>;</code></dt><dt class="spec value" id="val-afterEach"><a href="#val-afterEach" class="anchor"></a><code><span class="keyword">let</span> afterEach: <span>(<span class="type-var">'each</span> <span>=&gt;</span> unit)</span> <span>=&gt;</span> RelyInternal.TestLifecycle.t<span>(<span class="type-var">'beforeAllCalled</span>, <span class="type-var">'afterAllCalled</span>, <span class="type-var">'beforeEachCalled</span>, RelyInternal.TestLifecycle.afterEachNotCalled, <span class="type-var">'all</span>, <span class="type-var">'each</span>)</span> <span>=&gt;</span> RelyInternal.TestLifecycle.t<span>(<span class="type-var">'beforeAllCalled</span>, <span class="type-var">'afterAllCalled</span>, <span class="type-var">'beforeEachCalled</span>, RelyInternal.TestLifecycle.afterEachCalled, <span class="type-var">'all</span>, <span class="type-var">'each</span>)</span>;</code></dt></dl><dl><dt class="spec type" id="type-describeConfig"><a href="#type-describeConfig" class="anchor"></a><code><span class="keyword">type</span> describeConfig('ext, 'env)</code>;</dt></dl><dl><dt class="spec value" id="val-withLifecycle"><a href="#val-withLifecycle" class="anchor"></a><code><span class="keyword">let</span> withLifecycle: <span>(RelyInternal.TestLifecycle.defaultLifecycle <span>=&gt;</span> RelyInternal.TestLifecycle.t<span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>, <span class="type-var">'env</span>)</span>)</span> <span>=&gt;</span> <a href="index.html#type-describeConfig">describeConfig</a><span>(<span class="type-var">'ext</span>, unit)</span> <span>=&gt;</span> <a href="index.html#type-describeConfig">describeConfig</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>;</code></dt><dt class="spec value" id="val-withCustomMatchers"><a href="#val-withCustomMatchers" class="anchor"></a><code><span class="keyword">let</span> withCustomMatchers: RelyInternal__RelyAPI.MatcherTypes.matchersExtensionFn(<span class="type-var">'ext</span>) <span>=&gt;</span> <a href="index.html#type-describeConfig">describeConfig</a><span>(unit, <span class="type-var">'env</span>)</span> <span>=&gt;</span> <a href="index.html#type-describeConfig">describeConfig</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>;</code></dt><dt class="spec value" id="val-describeConfig"><a href="#val-describeConfig" class="anchor"></a><code><span class="keyword">let</span> describeConfig: <a href="index.html#type-describeConfig">describeConfig</a><span>(unit, unit)</span>;</code></dt><dt class="spec value" id="val-extendDescribe"><a href="#val-extendDescribe" class="anchor"></a><code><span class="keyword">let</span> extendDescribe: RelyInternal__RelyAPI.MatcherTypes.matchersExtensionFn(<span class="type-var">'ext</span>) <span>=&gt;</span> <a href="index.html#type-extensionResult">extensionResult</a><span>(<span class="type-var">'ext</span>, unit)</span>;</code></dt><dt class="spec value" id="val-build"><a href="#val-build" class="anchor"></a><code><span class="keyword">let</span> build: <a href="index.html#type-describeConfig">describeConfig</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span> <span>=&gt;</span> <a href="index.html#type-extensionResult">extensionResult</a><span>(<span class="type-var">'ext</span>, <span class="type-var">'env</span>)</span>;</code></dt></dl></details></div></div></div></div></body></html>